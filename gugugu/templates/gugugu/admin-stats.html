{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}
	GUGUGU - ì„œê°•ëŒ€ íŒ¨ë„ í† í¬
{% endblock %}

{% block head %}
	<meta name="description" content="êµ¬êµ¬êµ¬, ì«Œ ì“¸ë§›ë‚˜ëŠ” ì˜¤í”ˆì±„íŒ… ì„œë¹„ìŠ¤. PC, ëª¨ë°”ì¼ ì–´ë””ì„œë“  ì‚¬ìš© ê°€ëŠ¥í•œ ì˜¤í”ˆì±„íŒ…!">
	<link rel="stylesheet" href="{% static 'gugugu/css/hero.css' %}">
	<link rel="stylesheet" href="{% static 'gugugu/css/talk.css' %}">
	<link rel="stylesheet" href="{% static 'gugugu/css/background.css' %}">
{% endblock %}

{% block body %}
	{% include 'nav.html' %}
	<canvas id="canvas-background"> </canvas>
	<img id="sogang-shadow" src="{% static 'img/sogang-black.png' %}">
	<img id="partner-shadow" src="{% static 'img/logo-big-shadow.png' %}">
	<div class="position-relative text-center">
	<div class="w-100 d-flex justify-content-center flex-column py-5 my-5">
		<div class="inner-wrapper mt-auto mb-auto justify-content-center">
			<div class="container">
				<h3 class="font-weight-bold text-white mt-5">âœ¨ 2019 ì„œê°•ëŒ€ íŒ¨ë„ í† í¬ âœ¨</h3>
				<h5 class="font-weight-light text-white">ê´€ë¦¬ì í˜ì´ì§€ğŸ˜</h5>
				<div class="row justify-content-center mt-5">
					<a href="{% url 'admin_stats' %}"><button class="btn btn-pill btn-primary mx-2"><i class="fas fa-chart-pie mr-2"></i>ì „ì²´ í†µê³„</button></a>
					<a href="{% url 'admin_claps' %}"><button class="btn btn-pill btn-light mx-2"><i class="fas fa-star mr-2"></i>Clapsìˆœ ì§ˆë¬¸</button></a>
					<a href="{% url 'admin_time' %}"><button class="btn btn-pill btn-light mx-2"><i class="fas fa-clock mr-2"></i>ìµœì‹ ìˆœ ì§ˆë¬¸</button></a>
				</div>
			</div>
		</div>
	</div>
	<div class="container pb-5 mb-5">
		<div class="row justify-content-center">
			<div class="col-12 col-md-10 col-lg-6 text-left">
				<h5 class="text-white font-weight-bold">ì‚¬ì „ ë“±ë¡ì í†µê³„</h5>
				<div class="card">
					<ul class="list-group">
						<li class="list-group-item">
							<div class="d-flex my-1">
								<p class="m-0 mr-auto">ì „ì²´ ì‚¬ì „ ë“±ë¡ì</p>
								<p class="m-0">{{ stats.total_registrations }}ëª…</p>
							</div>
						</li>
						{% for department, count in registrations_by_department.items %}
						<li class="list-group-item">
							<div class="d-flex my-1">
								<p class="m-0 mr-auto">{{ department }}</p>
								<p class="m-0">{{ count }}ëª…</p>
							</div>
						</li>
						{% endfor %}
					</ul>
				</div>
				<h5 class="text-white font-weight-bold">ì§ˆë¬¸ í†µê³„</h5>
				<div class="card mb-5">
					<li class="list-group-item">
						<div class="d-flex my-1">
							<p class="m-0 mr-auto">ì „ì²´ ì§ˆë¬¸ìˆ˜</p>
							<p class="m-0">{{ stats.total_registrations }}</p>
						</div>
					</li>
					<li class="list-group-item">
						<div class="d-flex my-1">
							<p class="m-0 mr-auto">ì „ì²´ ë°•ìˆ˜ ê°œìˆ˜</p>
							<p class="m-0">{{ stats.total_claps }}</p>
						</div>
					</li>
					</ul>
				</div>
			</div>
			<div class="col-12 col-md-10 col-lg-6 text-left">
				<h5 class="text-white mt-5 font-weight-bold">ì¸ê¸° ì§ˆë¬¸ì</h5>
				<p class="text-white mb-2">ë°•ìˆ˜ë¥¼ ê°€ì¥ ë§ì´ ë°›ì€ ì‚¬ëŒ</p>
				<div class="card">
					<ul class="list-group">
						{% for d in d_by_claps_received %}
							<li class="list-group-item">
								<div class="d-flex my-1">
									<p class="m-0 mr-auto">{{ d.registration.name }} Â·
										{{ d.registration.department }} Â·
										{% if d.registration.year == 5 %}
											ì¡¸ì—…ìƒ
										{% else %}
											{{ d.registration.year }}í•™ë…„
										{% endif %}
									</p>
									<p class="m-0">{{ d.claps_received }}</p>
								</div>
							</li>
						{% endfor %}
					</ul>
				</div>
				<h5 class="text-white mt-5 font-weight-bold">ë°•ìˆ˜ê¾¼</h5>
				<p class="text-white mb-2">ë°•ìˆ˜ë¥¼ ê°€ì¥ ë§ì´ ë³´ë‚¸ ì‚¬ëŒ</p>
				<div class="card">
					<ul class="list-group">
						{% for d in d_by_claps_sent %}
							<li class="list-group-item">
								<div class="d-flex my-1">
									<p class="m-0 mr-auto">{{ d.registration.name }} Â·
										{{ d.registration.department }} Â·
										{% if d.registration.year == 5 %}
											ì¡¸ì—…ìƒ
										{% else %}
											{{ d.registration.year }}í•™ë…„
										{% endif %}
									</p>
									<p class="m-0">{{ d.claps_sent }}</p>
								</div>
							</li>
						{% endfor %}
					</ul>
				</div>
				<h5 class="text-white mt-5 font-weight-bold">ì •ì„±ìŠ¤ëŸ¬ìš´ ì§ˆë¬¸ì</h5>
				<p class="text-white mb-2">ì§ˆë¬¸ì„ ê°€ì¥ ë§ì´ í•œ ì‚¬ëŒ</p>
				<div class="card">
					<ul class="list-group">
						{% for d in d_by_messages_sent %}
							<li class="list-group-item">
								<div class="d-flex my-1">
									<p class="m-0 mr-auto">{{ d.registration.name }} Â·
										{{ d.registration.department }} Â·
										{% if d.registration.year == 5 %}
										ì¡¸ì—…ìƒ
										{% else %}
										{{ d.registration.year }}í•™ë…„
										{% endif %}
									</p>
									<p class="m-0">{{ d.messages_sent }}</p>
								</div>
							</li>
						{% endfor %}
					</ul>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block body_script %}
	<script src="{% static 'vendor/granim.min.js' %}"></script>
	<script src="{% static 'gugugu/js/index.js' %}"></script>
	<script src="{% static 'gugugu/js/background.js' %}"></script>
{% endblock %}
